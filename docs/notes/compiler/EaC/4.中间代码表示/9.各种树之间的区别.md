---
title: 各种树之间的区别
createTime: 2025/01/19 11:47:10
permalink: /compiler/9q1sjixf/
---

这一节是书上没有对比的，个人疑问罢了。
解析树（Parse Tree）、语法树（Syntax Tree）和抽象语法树（Abstract Syntax Tree, AST）是编译器和解释器中常用的三种树形数据结构，它们在表示源代码语法结构时有不同的侧重点和用途。以下是它们的详细对比：

---

### **解析树、语法树和抽象语法树的对比**

| **特性**            | **解析树（Parse Tree）**                | **语法树（Syntax Tree）**              | **抽象语法树（AST）**                  |
|---------------------|----------------------------------------|----------------------------------------|---------------------------------------|
| **定义**            | 源代码语法结构的完整表示，严格遵循语法规则。 | 解析树的简化版本，保留较多语法细节。     | 语法树的进一步简化，只保留逻辑结构。   |
| **节点内容**        | 包含所有非终结符和终结符（如语法规则、关键字、操作符等）。 | 包含非终结符和终结符，但比解析树更简洁。 | 只包含对程序逻辑重要的节点（如表达式、语句等）。 |
| **语法细节**        | 包含所有语法细节（如括号、分号等）。     | 保留较多语法细节，但比解析树更简洁。     | 去除了不必要的语法细节（如括号、分号等）。 |
| **抽象程度**        | 最低，最接近语法规则。                  | 中等，介于解析树和AST之间。             | 最高，最接近程序的逻辑结构。           |
| **用途**            | 用于语法分析，验证代码是否符合语法规则。 | 用于语法分析，是解析树的简化版本。       | 用于语义分析、代码优化和代码生成。     |
| **示例（表达式 `3 + (4 * 5)`）** | 完整表示语法规则，包含所有细节：```<br>Expression<br>  ├── Term: 3<br>  ├── Operator: +<br>  └── Expression<br>      ├── LeftParenthesis: (<br>      ├── Term: 4<br>      ├── Operator: *<br>      ├── Term: 5<br>      └── RightParenthesis: )<br>``` | 简化了部分细节，但仍保留语法结构：```<br>Expression<br>  ├── Term: 3<br>  ├── Operator: +<br>  └── Expression<br>      ├── Term: 4<br>      ├── Operator: *<br>      └── Term: 5<br>``` | 去除了所有冗余信息，只保留逻辑结构：```<br>BinaryExpression(operator: +)<br>  ├── Literal(3)<br>  └── BinaryExpression(operator: *)<br>      ├── Literal(4)<br>      └── Literal(5)<br>``` |

---

### **总结**

1. **解析树**：最详细的树结构，严格遵循语法规则，包含所有语法细节，用于语法分析。
2. **语法树**：解析树的简化版本，保留了较多语法细节，但仍比解析树更简洁。
3. **抽象语法树（AST）**：最简洁的树结构，去除了所有不必要的语法细节，只保留程序的逻辑结构，用于语义分析、优化和代码生成。

在实际的编译器或解释器设计中，解析树通常作为语法分析的直接输出，语法树是解析树的简化版本，而AST则是后续阶段的主要数据结构。
